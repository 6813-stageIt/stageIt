<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<title>StageIt</title>
	<link rel="stylesheet" href="css/jquery-ui-1.10.2.custom.min.css" />
	<link rel="stylesheet" href="bootstrap.min.css" />
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" href="css/animate.min.css" />
	<link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
</head>
<body>
	<!-- <div class="container"> -->
   <div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">StageIt</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="#">Dashboard</a></li>
              <li class="active"><a href="#">Current Project</a></li>
              <li><a href="#about">Account</a></li>
              <!-- <li><a href="#contact">Contact</a></li> -->
            </ul>
             <p class="navbar-text pull-right">
              Logged in as <a href="#" class="navbar-link">Username</a>
            </p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
  <!-- </div> -->

	<div id="outerWrapper" class="animated fadeIn">
		<!-- <div id="topnavWrapper">
			<div id="topnav">
				<div id="stageItLogo" class="animated fadeIn"><h2>StageIt</h2></div>
				<ul id="topNavAccount">
					<li class="first"><a id="home" href="#" >Home</a></li>
					<li><a id="account" href="#">Account</a></li>
					<li><a id="project" href="#">Project Home</a></li>
				</ul>
			</div>
		</div> -->
		<div id="wrapper">
			<div id="subHeader">
				<div id="pageTitle"><h1><a id="projectName" class="tool" data-toggle="tooltip" title="Double click to change">Untitled Formation 1</a></h1></div>
				<ul id="pageActionsNav">
					<li><a id="newFormation" class="enabled-button tool" data-toggle="tooltip" title="Create a new formation"><img src="img/plus_blue.png" class="img-nav"/>New</a></li>

					<li><a id="undo" class="enabled-button"><img src="img/arrow_undo.png" class="img-nav"/> Undo</a></li>
					<li><a id="redo" class="enabled-button"><img src="img/arrow_redo.png" class="img-nav" /> Redo</a></li>
					<li><a id="save" class="enabled-button"><img src="img/save.png" class="img-nav"/> Save</a></li>
				</ul>
				
			</div>
			<div id="content">
				<div id="sidebarActions">
					<div class="labelContainer">
					<label><h5>Tasks</h5></label></div>
					<div id="tasks-container">
					<table id="tasks">
					<tr><td><a id="editStage" href="#chooseStage" data-toggle="modal" class="tool" data-toggle="tooltip" title="Change the stage" data-placement="right"><label>Edit Stage</label></a></td></tr>
					<tr><td><a id="addDancers" href="#addDancersModal" data-toggle="modal" class="tool" data-toggle="tooltip" title="Add dancer objects to the stage" data-placement="right"><label>Add Dancers</label></a></td></tr>
					<tr class="last"><td><a id="addProps" href="#choosePropModal" data-toggle="modal" class="tool" data-toggle="tooltip" title="Add prop objects to the stage" data-placement="right"><label>Add Props</label></a></td></tr>
					<tr class="last"><td class="last"><a id="arrangeDancers" href="#arrangeDancersModal" data-toggle="modal" class="tool" data-toggle="tooltip" title="Arrange dancers on stages in template formations" data-placement="right"><label>Arrange Dancers</label></a></td></tr>
					<!-- <div id="comments"><label id="commentsLabel">Comments</label><textarea class="input-small"></textarea></div> -->
					</table></div>
					<div class="labelContainer">
					<label><h5>Project</h5></label>
					</div>
					<div id="formations-container">
					<table id="formations">
						<tr><td class="current formation-name" id="formation1"><a><label>Untitled Formation 1</label></a></td></tr>

					</table>
					</div>
					<div class="labelContainer">

					<label><h5>Tools</h5></label>
					</div>
					<table id="toolsTable">
						<tr><td>
						<a id="straightPathTool" class="toolButton tool" onclick="drawPathPrompt()" 
							data-toggle="tooltip" title="Draw arrows on the stage" data-placement="right">
								<img src="img/straight_arrow.png" class="img-tool"/>
									<label class="inline">Straight</label></a>
						</td>
						<td>
						<a id="curvePathTool" class="toolButton tool" onclick="drawCurvePathPrompt()" 
							data-toggle="tooltip" title="Draw arrows on the stage" data-placement="right">
								<img src="img/freeform_arrow.png" class="img-tool"/>
									<label class="inline">Freeform</label></a>
						</td></tr>
						<!---<tr><td>
						<a id="curvePathTool" class="toolButton tool" onclick="drawCurvePathPrompt()" 
							data-toggle="tooltip" title="Draw arrows on the stage" data-placement="right">
								<img src="img/freeform_arrow.png" class="img-tool"/>
									<label class="inline">Arrow</label></a>
						</td></tr>-->
					</table>
					
				</div><!-- end of sidebar -->

				<div id="canvasWrapper">
					<div id="canvas-container">
						<label id="audienceLabel">Audience</label>
<!-- 						<label id="stageLeftLabel">Stage Left</label>
						<label id="stageRightLabel">Stage Right</label> -->
						<canvas id="canvas-stage"><p>Your browser does not support HTML5 canvas</p></canvas>
						
						<canvas id="arrow-canvas" style="z-index:120"><p>Your browser does not support HTML5 canvas</p></canvas>
					</div>
					<div id="delete-container" class="content tool" data-toggle="tooltip" title="Drag items on the stage here to delete"></div>
					<!-- <div id="preview"><label>Preview</label></div> -->		
				</div>
			</div>
			<div id="notes"><textarea placeholder="Tap to add notes"></textarea></div>
		</div>
	</div>
	
		<!-- Stage Modal -->
	<div id="chooseStage" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="chooseStageLabel" aria-hidden="false" data-backdrop="static">
	  <div class="modal-header">
	    <button type="button" class="close hidden" data-dismiss="modal" aria-hidden="false" style="display:none"><i class="icon-remove"></i></button>
	    <h4 id="chooseStageLabel">Select a stage to begin.</h4>
	  </div>
	  <div class="modal-body">
	    <!-- <button id="stage1" class="btn">Stage 1</button> -->
	    <ul id="stages" class="option" data-option="stage">
		    <li id="rectangle"><img src="img/rectangleStage.png" alt="rectangle stage" /></li>
		    <li id="trapezoidSmallFront"><img src="img/smallFrontStage.png" alt="small front stage" /></li>
		    <li id="trapezoidBigFront"><img src="img/bigFrontStage.png" alt="big front stage" /></li>
		    <li id="semicircle"><img src="img/semicircleStage.png" alt="semicircle stage" /></li>
		    <li id="circle"><img src="img/circleStage.png" alt="circle stage" /></li>
		    <li id="oval"><img src="img/ovalStage.png" alt="oval stage" /></li>
		</ul>
	  </div>
	   <div class="modal-footer">
	   	<p id="stageHelper" style="display:none;color:red" class="pull-left">Please select a stage.</p>
	  	<button class="btn btn-primary" onclick="drawStage()">Ok</button>
	    <button class="btn hidden" data-dismiss="modal" aria-hidden="true" id="cancel" style="display:none">Cancel</button>
	    
	  </div>
	</div>
	<!-- AddDancers modal -->
	<div id="addDancersModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="addDancersLabel" aria-hidden="false" data-backdrop="static">
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="false"><i class="icon-remove"></i></button>
	    <h4 id="addDancersLabel">Add Dancers to the Stage</h4>
	  </div>
	  <div class="modal-body">
	  	<table id="dancerModalWrapper">
	  	<tr><td><div id="dancerOptions" class="cell">
			<ol>
				<li><label for="dancers">Select dancer shape</label>
				  <ul id="dancers" class="option" data-option="dancer">
				    <li id="circle"><img src="img/circle-gray.png" alt="circle" class="img-dancer"/></li>
					<li id="triangle"><img src="img/triangle-gray.png" alt="triangle" class="img-dancer"/></li>
				    <li id="square"><img src="img/square-gray.png" alt="square" class="img-dancer"/></li>

				  </ul><div class="break"></div>
				</li>
				<li id="colors"><label for="colors">Select dancer color</label>
					<input type="radio" name="color" value="gray" checked>Gray<br>
					<input type="radio" name="color" value="red">Red<br>
					<input type="radio" name="color" value="blue">Blue<br>
					<input type="radio" name="color" value="green">Green<br>
				</li>
				  <li><label for="spinner">Number of Dancers to Add: </label><input id="spinner_numDancers" type="number" value="1" min="1"/></li>
			</ol>
		</div></td>
		<td id="previewcell"><div id="dancer-preview" class="cell"><label>Preview</label>
			<img id="preview-img" class="tool" alt="preview image" data-toggle="tooltip" title="Double click a dancer on the stage to add text" data-placement="bottom">
		</div></td>
	</tr>
	</table>
	  </div>
	  <div class="modal-footer">
	  	<button class="btn btn-primary" onclick="addDancers()">Add</button>
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
	    
	  </div>
	</div>
	<!--- addProp modal -->	
	<div id="choosePropModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="choosePropLabel" aria-hidden="false" data-backdrop="static">
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="false"><i class="icon-remove"></i></button>
	    <h4 id="choosePropLabel">Add a Prop to the Stage</h4>
	  </div>
	  <div class="modal-body">
	  	<label for="arrangement">Select a prop:</label>
	    <ul id="props" class="option" data-option="prop">
		    <li id="prop-castChair" class="prop"><img  alt="prop4" src="img/prop-castChair.png" class="img-prop"/></li>
			<li id="prop-ball" class="prop"><img  alt="prop1" src="img/prop-ball.png" class="img-prop"/></li>
		    <li id="prop-flag" class="prop"><img  alt="prop2" src="img/prop-flag.png" class="img-prop"/></li>
		    <li id="prop-boombox" class="prop"><img  alt="prop3" src="img/prop-boombox.png" class="img-prop"/></li>
		    <li id="prop-box" class="prop"><img  alt="prop3" src="img/prop-box.png" class="img-prop"/></li>
		</ul>
	  </div>
	   <div class="modal-footer">
	   	<p id="propHelper" style="display:none;color:red" class="pull-left">Please select a prop.</p>
	  	<button class="btn btn-primary" data-dismiss="modal" onclick="addProp()">Add</button>
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
	    
	  </div>
	</div>

	<!-- ArrangeDancers modal -->
	<div id="arrangeDancersModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="arrangeDancersLabel" aria-hidden="false" data-backdrop="static">
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="false"><i class="icon-remove"></i></button>
	    <h4 id="arrangeDancersLabel">Arrange Dancers on the Stage</h4>
	  </div>
	  <div class="modal-body">
	  	<div id="arrangementOptions" class="cell">
			<ol>
<!-- 				<li><label for="dancers">Select dancer shape</label>
				  <ul id="dancers" class="option" data-option="dancer">
				    <li id="circle"><img src="img/circle-gray.png" alt="circle" class="img-dancer"/></li>
					<li id="triangle"><img src="img/triangle-gray.png" alt="triangle" class="img-dancer"/></li>
				    <li id="square"><img src="img/square-gray.png" alt="square" class="img-dancer"/></li>
				  </ul><div class="break"></div>
				</li> -->
				<li id="arrangement"><label for="arrangement">Choose a template formation.</label>
					<input type="radio" name="arrangement" value="oneHorizLine">One Horizontal Line<br>
					<input type="radio" name="arrangement" value="twoHorizLines">Two Horizontal Lines<br>
					<input type="radio" name="arrangement" value="oneVertLine">One Vertical Line<br>
					<input type="radio" name="arrangement" value="twoVertLines">Two Vertical Lines<br>
					<input type="radio" name="arrangement" value="diamond">Diamond<br>
					<input type="radio" name="arrangement" value="circle">Circle<br>
					<input type="radio" name="arrangement" value="V">V-shaped<br>
					<input type="radio" name="arrangement" value="X">X-shaped<br>
				</li>
			</ol>
		</div>
	  </div>
	  <div class="modal-footer">
	  	<button class="btn btn-primary" onclick="arrangeDancers()">Arrange</button>
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
	  </div>
	</div>

	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="http://code.createjs.com/easeljs-0.6.0.min.js"></script>
	<script src="js/jquery-ui-1.10.2.custom.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/bootbox.min.js"></script>
	<script src="js/javascript.js"></script>
	<script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.4.3.min.js"></script>
    
	
	<script>
	var debug = true;
	var stageHasBeenPicked = false;
	$(document).ready(function(){
				if(!debug){
					$('#chooseStage').modal();
				}	
		$('.tool').tooltip();
		var canvas = document.getElementById('arrow-canvas');
		// Make it visually fill the positioned parent
		canvas.style.width ='100%';
		canvas.style.height='100%';
		// ...then set the internal size to match
		canvas.width  = canvas.offsetWidth;
		canvas.height = canvas.offsetHeight;
		
		var canvas = document.getElementById('canvas-stage');
		canvas.width  = canvas.offsetWidth-100;
		canvas.height = canvas.offsetHeight-100;
	});

	</script>
</body>
</html>